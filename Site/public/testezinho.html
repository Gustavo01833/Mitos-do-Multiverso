<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    a
</head>
<body>

    <input type="text" name="" id="email_input">
    <input type="text" name="" id="senha_input">
    <input type="text" name="" id="confirmaSenha_input">
    <button onclick="cadastrar()">Cadastrar</button>

</body>
</html>


<script>
    function cadastrar(){
      
    var emailVar = email_input.value;
    var senhaVar = senha_input.value;
    var confirmaSenha = confirmaSenha_input.value;
    // var confirmacaoSenhaVar = confirmacao_senha_input.value;

     fetch("/usuarios/cadastrar", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify({
        // crie um atributo que recebe o valor recuperado aqui
        // Agora vÃ¡ para o arquivo routes/usuario.js
        emailServer: emailVar,
        senhaServer: senhaVar
      }),
    })
      .then(function (resposta) {
        console.log("resposta: ", resposta);

        if (resposta.ok) {
          //cardErro.style.display = "block";

          //mensagem_erro.innerHTML =
            "Cadastro realizado com sucesso! Redirecionando para tela de Login...";

          setTimeout(() => {
            window.location = "login.html";
          }, "2000");

         // limparFormulario();
         // finalizarAguardar();
        } else {
          throw "Houve um erro ao tentar realizar o cadastro!";
        }
      })
      .catch(function (resposta) {
        console.log(`#ERRO: ${resposta}`);
        //finalizarAguardar();
      });

    return false;



    }


</script>